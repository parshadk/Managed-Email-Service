<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Managed Email Service</title>
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
<style>
    body{
        background: hsla(205, 77%, 46%, 1);

background: linear-gradient(90deg, hsla(205, 77%, 46%, 1) 69%, hsla(195, 46%, 85%, 1) 100%, hsla(199, 41%, 69%, 1) 100%);

background: -moz-linear-gradient(90deg, hsla(205, 77%, 46%, 1) 69%, hsla(195, 46%, 85%, 1) 100%, hsla(199, 41%, 69%, 1) 100%);

background: -webkit-linear-gradient(90deg, hsla(205, 77%, 46%, 1) 69%, hsla(195, 46%, 85%, 1) 100%, hsla(199, 41%, 69%, 1) 100%);

filter: progid: DXImageTransform.Microsoft.gradient( startColorstr="#1B85D2", endColorstr="#C6E1EA", GradientType=1 );
    }
</style>

  </head>
<body class="container mt-5">
    <h1 class=" fw-bold text-center ">
        Managed Email Service
    </h1>
    <div class="rounded p-3 mb-2 bg- text-white ">
   <form id="emailForm" action="/send-email" method="post">
    <div class="form-group">
      <input type="checkbox" id="ReplyTo">  
      <label for="Replyto">Add Reply To:</label><br>
      <label for="Replyto" >Reply To:</label>
      <input type="email" class="form-control" id="ReplyTo-input" placeholder="Use Commas to separate multiple emails">
      <label for="to">To:</label>
      <input type="email" class="form-control" id="to" name="to" placeholder="Use Commas to separate multiple emails" req>
    </div>

    <div class="form-group">
      <input type="checkbox" id="CC/Bcc">
      <label for="to">Add Cc/Bcc:</label><br>
      <label for="cc">CC:</label>
      <input type="text" class="form-control" id="cc" name="cc" placeholder="Use Commas to separate multiple emails">
      <label for="bcc">BCC:</label>
      <input type="text" class="form-control" id="bcc" name="bcc" placeholder="Use Commas to separate multiple emails">
    </div>

    <div class="form-group">
      <label for="subject">Subject:</label>
      <input type="text" class="form-control" id="subject" name="subject" placeholder="Email Subject"  req>
    </div>

    <div class="form-group">
      <label for="Body">Body:</label>
      </div>
      <div class="container border rounded ">
        <div><ul class="nav nav-tabs m-2 bg-light rounded" id="myTab" role="tablist">
            <li class="nav-item">
                <a class="nav-link active text-black" id="text-tab" data-toggle="tab" href="#text" role="tab" aria-controls="text" aria-selected="true">Text</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-black" id="html-tab" data-toggle="tab" href="#html" role="tab" aria-controls="html" aria-selected="false">HTML</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-black " id="markdown-tab" data-toggle="tab" href="#markdown" role="tab" aria-controls="markdown" aria-selected="false">Markdown</a>
            </li>
            
        </ul>
        <div class="float-right">
            <button class="previewbtn btn-md rounded m-2">Preview</button>
        </div>
    </div>
        <div class="tab-content m-2" id="TabContents">
            <div class="tab-pane fade show active" id="text" role="tabpanel" aria-labelledby="text-tab">
                <h3>Text Content</h3>
                <textarea class="form-control"  rows="5" placeholder="Write your message here..."></textarea> 
            </div>
            <div class="tab-pane fade" id="html" role="tabpanel" aria-labelledby="html-tab">
                <h3>HTML Content</h3>
                <textarea class="form-control"  rows="5" placeholder="Write your message here..."></textarea> 
            </div>
            <div class="tab-pane fade" id="markdown" role="tabpanel" aria-labelledby="markdown-tab">
                <h3>Markdown Content</h3>
                <textarea class="form-control"  rows="5" placeholder="Write your message here..."></textarea> 
            </div>
        </div>
      </div>
   </div>

    
<!-- 
    <div class="form-group">
      <label for="attachments">Attachments:</label>
      <input type="file" class="form-control-file" id="attachments" name="attachments" multiple>
    </div> -->

    <button type="submit" class="btn ml-2 btn-light" >Send Email</button>
  </form>

 

  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script>
    //event listener 
    this.addEventListener('submit', async function(event) {
      event.preventDefault(); 
  
      
      const formData = new FormData(this);
  
      try {
        // Send form data 
        const response = await fetch('/send-email', {
          method: 'POST',
          body: formData
        });
  
        // Check if response is OK
        if (response.ok) {
          const data = await response.json();
          console.log(data); // Log response from server
          alert('Email sent successfully!');
        } else {
          throw new Error('Failed to send email');
        }
      } catch (error) {
        console.error(error);
        alert('Error sending email');
      }
    });
  </script>
</div>
</body>
</html>
